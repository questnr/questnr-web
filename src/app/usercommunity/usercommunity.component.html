<div class="user-community-wrapper" [ngClass]="mobileView ? 'mobile' : 'desktop'">
  <div class="link-card box" *ngIf="!mobileView && templateStyle == CommunityListMatCardTypeClass.simple">
    <div class="header">
      <div>
        Owned Communities
      </div>
      <div *ngIf="ownsCommunities">{{ownsCommunities+" "}}<i class="fa fa-group"></i></div>
    </div>
    <ng-container *ngIf="!loadingCommunities && ownedCommunity?.length; else noCommunities">
      <div class="links" *ngFor="let item of ownedCommunity">
        <app-profile-icon [isCommunityAvatar]="true" [avatar]="item.avatarDTO" [height]="35" [sizeRef]="'small'"
          [slug]="item.slug">
        </app-profile-icon>
        <app-username [isCommunity]="true" [username]="item.communityName" [slug]="item.slug"></app-username>
      </div>
      <div class="row" *ngIf="ownedCommunity?.length >= 4">
        <div class="col-4">
        </div>
        <div class="col-8">
          <app-view-more-button (click)="openCommunityDialog(ownedCommunity)">
          </app-view-more-button>
        </div>
      </div>
    </ng-container>
    <ng-template #noCommunities>
      <div *ngIf="!loadingCommunities">
        <span>No Communities created yet.</span>
      </div>
    </ng-template>
    <div *ngIf="loadingCommunities">
      <div class="list-item" *ngFor="let i of listItems">
        <ngx-skeleton-loader count="1" appearance="circle"></ngx-skeleton-loader>
        <ngx-skeleton-loader class="w-100" count="1" appearance="line"></ngx-skeleton-loader>
      </div>
    </div>
    <!-- <div class="o-vertical-spacing o-vertical-spacing--l">
        <div class="grid blog-post o-media">
          <div class="community_image o-media__figure">
            <span class="skeleton-box media-box"></span>
          </div>
          <div class="o-media__body">
            <div class="o-vertical-spacing">
              <span class="skeleton-box desc" style="width:90%;"></span>
            </div>
          </div>
        </div>
        <div class="grid blog-post o-media">
          <div class="community_image o-media__figure">
            <span class="skeleton-box media-box"></span>
          </div>
          <div class="o-media__body">
            <div class="o-vertical-spacing">
              <span class="skeleton-box desc" style="width:90%;"></span>
            </div>
          </div>
        </div>
        <div class="grid blog-post o-media">
          <div class="community_image o-media__figure">
            <span class="skeleton-box media-box"></span>
          </div>
          <div class="o-media__body">
            <div class="o-vertical-spacing">
              <span class="skeleton-box desc" style="width:90%;"></span>
            </div>
          </div>
        </div>
      </div> -->
  </div>
  <div *ngIf="!mobileView && templateStyle == CommunityListMatCardTypeClass.expansion">
    <mat-expansion-panel class="user-community-expansion-panel">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <span class="header">Owned Communities</span>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div *ngIf="loadingCommunities">
        <div class="list-item" *ngFor="let i of listItems">
          <ngx-skeleton-loader count="1" appearance="circle"></ngx-skeleton-loader>
          <ngx-skeleton-loader class="w-100" count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
      <div *ngIf="ownedCommunity?.length; else noCommunities">
        <div *ngIf="!loadingCommunities">
          <ng-container *ngIf="ownedCommunity?.length">
            <div class="links" *ngFor="let item of ownedCommunity">
              <app-profile-icon [isCommunityAvatar]="true" [avatar]="item.avatarDTO" [height]="35" [sizeRef]="'small'"
                [slug]="item.slug">
              </app-profile-icon>
              <app-username [isCommunity]="true" [username]="item.communityName" [slug]="item.slug"></app-username>
            </div>
          </ng-container>
          <div class="row">
            <div class="col">
              <app-view-more-button (click)="openCommunityDialog(ownedCommunity)">
              </app-view-more-button>
            </div>
          </div>
        </div>
      </div>
      <ng-template #noCommunities>
        <div *ngIf="!loadingCommunities">
          <span>No Communities created yet.</span>
        </div>
      </ng-template>
    </mat-expansion-panel>
  </div>

  <div *ngIf="mobileView">
    <div class="user-owned-community" [ngClass]="mobileView ? 'mobile' : 'desktop'">
      <div>
        <h5>Owned Communities
          <div>
            <div class="create-btn">
              <span class="community-counts" *ngIf="ownsCommunities">{{ownsCommunities+" "}}<i
                  class="fa fa-group"></i></span>
              <!--            <mat-icon (click)="createCommunity()" *ngIf="relation==='owned' ">add_circle_outline-->
              <!--            </mat-icon>-->
              <!--            <app-create-community-btn [type]="'icon'"></app-create-community-btn>-->
              <mat-icon (click)="openCommunityDialog(ownedCommunity)" *ngIf="ownedCommunity?.length > 3">arrow_forward
              </mat-icon>
            </div>
          </div>
        </h5>
        <owl-carousel-o [options]="customOptions">
          <ng-container *ngFor="let list of ownedCommunity;let i=index">
            <ng-template carouselSlide [id]="list.i">
              <app-community-card-mobile-view [mobileView]="mobileView" [community]="list">
              </app-community-card-mobile-view>
            </ng-template>
          </ng-container>
        </owl-carousel-o>
      </div>
      <!--loader-->
      <div class="row card-loader" *ngIf="loadingCommunities">
        <div class="col">
          <app-community-card-loader></app-community-card-loader>
        </div>
        <div class="col">
          <app-community-card-loader></app-community-card-loader>
        </div>
      </div>
      <!--loader ends-->
    </div>
  </div>
</div>